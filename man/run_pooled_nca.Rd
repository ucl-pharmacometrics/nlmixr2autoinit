% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_pooled_nca.R
\name{run_pooled_nca}
\alias{run_pooled_nca}
\title{Perform Non-Compartmental Analysis (NCA) on Pooled Pharmacokinetic Data
Performs non-compartmental analysis (NCA) using pooled pharmacokinetic data
for various dosing scenarios, including first dose, repeated doses, or a combined
analysis of both.}
\usage{
run_pooled_nca(dat, data_type = "first_dose", pooled = NULL, ...)
}
\arguments{
\item{dat}{A data frame containing pharmacokinetic data. Required columns depend on
the specified \code{data_type} (see Details).}

\item{data_type}{Type of analysis to perform. One of:
\itemize{
\item{\code{"first_dose"}}: First-dose analysis (default)
\item{\code{"repeated_doses"}}: Analysis of doses beyond the first (e.g., steady-state)
\item{\code{"combined_doses"}}: Analysis combining first and repeated doses
}}

\item{pooled}{(Optional) A precomputed pooled data list as returned by \code{\link{get_pooled_data}}.
This must be a list that may contain one or more of the following named elements:
\describe{
\item{\code{datpooled_fd}}{Binned data for first-dose analysis (output of \code{bin.time})}
\item{\code{datpooled_efd}}{Binned data for repeated-dose analysis}
\item{\code{datpooled_all}}{Binned data combining first and repeated doses}
}
If not supplied, the function will compute pooled data automatically.}

\item{...}{Additional arguments passed to \code{\link{bin.time}} and \code{\link{getnca}}.}
}
\value{
A named list containing:
\itemize{
\item{\code{nca.fd.results}}: NCA results for first-dose data (if applicable)
\item{\code{nca.efd.results}}: NCA results for repeated doses (if applicable)
\item{\code{nca.all.results}}: NCA results for combined first and repeated doses (if applicable)
}
Any result not relevant to the \code{data_type} will return \code{NA}.
}
\description{
Perform Non-Compartmental Analysis (NCA) on Pooled Pharmacokinetic Data
Performs non-compartmental analysis (NCA) using pooled pharmacokinetic data
for various dosing scenarios, including first dose, repeated doses, or a combined
analysis of both.
}
\details{
This function supports flexible NCA workflows where pooled data can either be computed
internally using \code{\link{get_pooled_data}}, or supplied externally (e.g., reused across calls).
Required columns in \code{dat} are automatically checked within \code{get_pooled_data}.
}
\examples{
\dontrun{
# First-dose NCA analysis (pre-filtered dataset)
dat <- Bolus_1CPT[Bolus_1CPT$SD == 1, ]
dat <- processData(dat)$dat

# Option 1: Pre-pooling externally using get_pooled_data()
pooled <- get_pooled_data(dat, data_type = "first_dose", binsize = 1)
result <- run_pooled_nca(dat, data_type = "first_dose", pooled = pooled)

# Option 2: Automatic pooling within run_pooled_nca()
result <- run_pooled_nca(dat, data_type = "first_dose")

# Combined analysis: first-dose + repeated-dose profiles
dat <- Bolus_1CPT
dat <- processData(dat)$dat
result <- run_pooled_nca(dat, data_type = "combined_doses")
}

}
\seealso{
\code{\link{get_pooled_data}}, \code{\link{bin.time}}, \code{\link{getnca}}
}
