% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_pooled_nca.R
\name{run_pooled_nca}
\alias{run_pooled_nca}
\title{Perform non-compartmental analysis (NCA) for pooled pharmacokinetic Data}
\usage{
run_pooled_nca(dat, data_type = "first_dose", ...)
}
\arguments{
\item{dat}{A data frame containing pharmacokinetic data. Required columns depend on
the analysis type (see Details).}

\item{data_type}{Type of analysis to perform. Must be one of:
\itemize{
\item{\code{"first_dose"}}{First dose analysis (default)}
\item{\code{"repeated_doses"}}{Steady-state/repeated dose analysis}
\item{\code{"combined_doses"}}{Combined first and repeated dose analysis}
}}

\item{nlastpoints}{Number of points for terminal slope calculation (default: 3)}

\item{trapezoidal.rule}{Integration method:
\itemize{
\item{1}{Linear trapezoidal rule (default)}
\item{2}{Log-linear trapezoidal rule}
}}

\item{nbins}{Number of time bins for data pooling (default: 8)}

\item{route}{Administration route:
\itemize{
\item{\code{"bolus"}}{Bolus administration (default)}
\item{\code{"oral"}}{Oral administration}
}}
}
\value{
A list containing the following components:
\itemize{
\item{nca.fd.results}{NCA results for first dose analysis (data frame)}
\item{nca.efd.results}{NCA results for repeated doses analysis (data frame)}
\item{nca.all.results}{NCA results for combined analysis (data frame)}
\item{datpooled_fd}{Binned data for first dose analysis}
\item{datpooled_efd}{Binned data for repeated doses analysis}
\item{datpooled_all}{Binned data for combined analysis}
\item{time.spent}{Calculation time (difftime object)}
}
Unused analysis slots will contain \code{NA}.
}
\description{
Performs non-compartmental analysis on pooled pharmacokinetic data
or different dosing scenarios, including first dose, repeated doses, or
combined analysis. It supports both bolus and oral administration routes.
}
\details{
Required columns in \code{dat} depend on the \code{data_type}:
\itemize{
\item{\code{"first_dose"}:}{\code{dose_number}, \code{iiobs}, \code{ID}, \code{TIME}, \code{DV}}
\item{\code{"repeated_doses"}:}{\code{EVID}, \code{AMT}, \code{tad}, \code{dose_number},
\code{iiobs}, \code{ID}, \code{TIME}, \code{DV}, \code{resetflag}}
\item{\code{"combined_doses"}:}{\code{EVID}, \code{tad}, \code{dose_number}, \code{ID},
\code{TIME}, \code{DV}, \code{resetflag}}
}
}
\examples{
\dontrun{
# First dose analysis for bolus data
processed_data <- processData(Bolus_1CPT)$dat
run_pooled_nca(dat = processed_data, data_type = "combined_doses")

# Combined analysis for oral data
data(Oral_1CPT)
processed_oral <- processData(Oral_1CPT)$dat
results_oral <- run_pooled_nca(processed_oral,
                          data_type = "combined_doses",
                          route = "oral")
}

}
\seealso{
\code{\link{bin.time}}, \code{\link{getnca}}
}
